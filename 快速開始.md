# QRL 交易機器人 - 快速開始指南

## 📋 前置需求

- Python 3.9 或更高版本
- MEXC 交易所帳號和 API 金鑰
- 基本的加密貨幣交易知識

## 🚀 安裝步驟

### 1. 下載專案

```bash
git clone https://github.com/7Spade/qrl.git
cd qrl
```

### 2. 安裝依賴

```bash
pip install -r requirements.txt
```

### 3. 設定環境變數

複製範例檔案：

```bash
cp .env.example .env
```

編輯 `.env` 檔案，填入你的 MEXC API 資訊：

```env
MEXC_API_KEY=你的API金鑰
MEXC_API_SECRET=你的API密鑰
SYMBOL=QRL/USDT
```

## 🎯 使用方式

### 執行交易機器人

```bash
python main.py
```

**輸出範例：**

```
✅ 掛單完成 @ 0.0245
```

或

```
❌ 條件不成立，不買
```

或

```
⚠️ 已達最大倉位
```

### 啟動監控面板

```bash
cd web
uvicorn app:app --reload
```

然後在瀏覽器開啟 http://localhost:8000

## 📊 交易策略說明

### 買入條件

機器人會在**同時滿足**以下兩個條件時下單：

1. **價格接近支撐位**: 當前價格 ≤ EMA60 × 1.02（接近 60 日均線）
2. **動能為正**: EMA20 ≥ EMA60（短期趨勢向上）

### 風險控制

- **單筆訂單大小**: 50 USDT（可在 `config.py` 修改 `BASE_ORDER_USDT`）
- **最大倉位**: 500 USDT（可在 `config.py` 修改 `MAX_POSITION_USDT`）
- **限價折讓**: 比當前價格低 2%（可修改 `PRICE_OFFSET`）

## ⚙️ 參數設定

編輯 `config.py` 來調整策略參數：

| 參數 | 預設值 | 說明 |
|------|--------|------|
| `SYMBOL` | `QRL/USDT` | 交易對 |
| `TIMEFRAME` | `1d` | K線週期 |
| `BASE_ORDER_USDT` | `50` | 單筆訂單金額 |
| `MAX_POSITION_USDT` | `500` | 最大總倉位 |
| `PRICE_OFFSET` | `0.98` | 限價折扣（0.98 = 2% 折讓）|

## 🔄 自動執行

### 使用 Cron（Linux/Mac）

編輯 crontab：

```bash
crontab -e
```

添加定時任務（每天早上 9 點執行）：

```
0 9 * * * cd /path/to/qrl && /usr/bin/python3 main.py >> logs/bot.log 2>&1
```

### 使用工作排程器（Windows）

1. 開啟「工作排程器」
2. 建立基本工作
3. 設定觸發程序（時間）
4. 動作：啟動程式 `python.exe`，參數：`main.py`

## 📁 專案結構

```
qrl/
├── config.py           # 參數設定
├── exchange.py         # MEXC 交易所連接
├── main.py            # 主程式
├── risk.py            # 風險管理
├── state.py           # 狀態記錄
├── strategy.py        # 交易策略
├── requirements.txt   # Python 套件
├── .env              # API 金鑰（不要上傳）
├── data/             # 資料庫（自動建立）
└── web/
    ├── app.py        # 監控面板
    └── templates/
        └── index.html # 面板介面
```

## 🐛 常見問題

### 模組找不到

```bash
pip install -r requirements.txt
```

### 資料庫錯誤

```bash
rm -rf data/
python main.py  # 會自動重建
```

### API 認證失敗

- 檢查 `.env` 檔案中的 API 金鑰是否正確
- 確認 API 權限設定正確
- 確認沒有超過 API 呼叫限制

## ⚠️ 重要提醒

### 風險警告

**加密貨幣交易具有高度風險！**

- 本機器人僅供學習和研究使用
- 不保證獲利或績效
- 您需自行負責交易決策
- 只使用可承受損失的資金
- 上線前請先充分測試

### 安全建議

1. ✅ API 金鑰存放在 `.env` 檔案中
2. ✅ 不要將 `.env` 上傳到 GitHub
3. ⚠️ 建議監控面板使用唯讀 API 金鑰
4. ⚠️ 定期備份資料庫
5. ⚠️ 監控機器人運作狀況

## 📈 下一步

### 建議的改進項目

- [ ] 添加錯誤處理和日誌
- [ ] 實作賣出策略
- [ ] 建立單元測試
- [ ] 添加回測功能
- [ ] 實作通知系統（Telegram/Email）
- [ ] 支援多個交易對
- [ ] Docker 容器化

## 📚 延伸閱讀

- [完整專案分析](PROJECT_ANALYSIS.md)
- [架構說明](ARCHITECTURE.md)
- [變更記錄](CHANGELOG.md)
- [English README](README.md)

## 🤝 貢獻

歡迎貢獻！請：

1. Fork 本專案
2. 建立功能分支
3. 提交變更
4. 發送 Pull Request

## 📧 支援

如有問題：

- 開啟 GitHub Issue
- 查看現有文件
- 參考 MEXC API 文件

---

**免責聲明**: 本軟體僅供教育用途，使用風險自負。
