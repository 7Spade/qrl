# QRL äº¤æ˜“æ©Ÿå™¨äºº - å¿«é€Ÿé–‹å§‹

## ğŸ“‹ å‰ç½®éœ€æ±‚

- Python 3.9+
- MEXC äº¤æ˜“æ‰€ API é‡‘é‘°
- åŸºæœ¬çš„åŠ å¯†è²¨å¹£äº¤æ˜“çŸ¥è­˜

## ğŸš€ æœ¬åœ°é–‹ç™¼

### 1. å®‰è£

```bash
git clone https://github.com/7Spade/qrl.git
cd qrl
pip install -r requirements.txt
```

### 2. è¨­å®š

```bash
cp .env.example .env
# ç·¨è¼¯ .env å¡«å…¥ MEXC API é‡‘é‘°
```

### 3. åŸ·è¡Œ

```bash
# åŸ·è¡Œäº¤æ˜“æ©Ÿå™¨äºº
python main.py

# å•Ÿå‹•ç›£æ§é¢æ¿
uvicorn web.app:app --reload
```

## â˜ï¸ Google Cloud Run éƒ¨ç½²

```bash
# ä½¿ç”¨ Cloud Build éƒ¨ç½²
gcloud builds submit --config cloudbuild.yaml
```

**å¦‚æœé‡åˆ° 403 Forbidden éŒ¯èª¤**ï¼ŒåŸ·è¡Œä»¥ä¸‹å‘½ä»¤å…è¨±å…¬é–‹å­˜å–ï¼š

```bash
gcloud run services add-iam-policy-binding qrl-bot \
  --region=asia-east1 \
  --member="allUsers" \
  --role="roles/run.invoker"
```

## ğŸ“Š äº¤æ˜“ç­–ç•¥

**è²·å…¥æ¢ä»¶**ï¼ˆéœ€åŒæ™‚æ»¿è¶³ï¼‰ï¼š
1. åƒ¹æ ¼ â‰¤ EMA60 Ã— 1.02ï¼ˆæ¥è¿‘æ”¯æ’ä½ï¼‰
2. EMA20 â‰¥ EMA60ï¼ˆæ­£å‘å‹•èƒ½ï¼‰

**é¢¨éšªæ§åˆ¶**ï¼š
- å–®ç­†è¨‚å–®ï¼š50 USDT
- æœ€å¤§å€‰ä½ï¼š500 USDT
- é™åƒ¹æŠ˜è®“ï¼š2%

## âš™ï¸ åƒæ•¸è¨­å®š

ä¿®æ”¹ `config.py`ï¼š

| åƒæ•¸ | é è¨­å€¼ | èªªæ˜ |
|------|--------|------|
| `SYMBOL` | `QRL/USDT` | äº¤æ˜“å° |
| `BASE_ORDER_USDT` | `50` | å–®ç­†é‡‘é¡ |
| `MAX_POSITION_USDT` | `500` | æœ€å¤§å€‰ä½ |
| `PRICE_OFFSET` | `0.98` | é™åƒ¹æŠ˜æ‰£ |

## ğŸ”„ è‡ªå‹•åŸ·è¡Œ

**Cronï¼ˆLinux/Macï¼‰**ï¼š
```bash
0 9 * * * cd /path/to/qrl && python3 main.py >> logs/bot.log 2>&1
```

**Cloud Schedulerï¼ˆCloud Runï¼‰**ï¼š
```bash
gcloud scheduler jobs create http qrl-trader \
  --schedule="0 9 * * *" \
  --uri="YOUR_CLOUD_RUN_URL/trade" \
  --http-method=POST
```

## ğŸ› å¸¸è¦‹å•é¡Œ

### æœ¬åœ°å•é¡Œ

**æ¨¡çµ„éŒ¯èª¤**ï¼š`pip install -r requirements.txt`

**è³‡æ–™åº«éŒ¯èª¤**ï¼š`rm -rf data/ && python main.py`

**API éŒ¯èª¤**ï¼šæª¢æŸ¥ `.env` ä¸­çš„ API é‡‘é‘°

### Cloud Run å•é¡Œ

**403 Forbidden éŒ¯èª¤**ï¼š
```bash
# å…è¨±æœªç¶“èº«ä»½é©—è­‰çš„å­˜å–
gcloud run services add-iam-policy-binding qrl-bot \
  --region=asia-east1 \
  --member="allUsers" \
  --role="roles/run.invoker"
```

**é€£æ¥åŸ å•é¡Œ**ï¼š
- Cloud Run ä½¿ç”¨ PORT ç’°å¢ƒè®Šæ•¸ï¼ˆå·²åœ¨ Dockerfile ä¸­é…ç½®ï¼‰
- ç¢ºèª cloudbuild.yaml ä¸­æœ‰è¨­å®š `--port 8080`

**éƒ¨ç½²å¤±æ•—**ï¼š
```bash
# æŸ¥çœ‹æ—¥èªŒ
gcloud run services logs read qrl-bot --region=asia-east1

# é‡æ–°éƒ¨ç½²
gcloud builds submit --config cloudbuild.yaml
```

## âš ï¸ é¢¨éšªæç¤º

**åŠ å¯†è²¨å¹£äº¤æ˜“å…·æœ‰é«˜é¢¨éšªï¼**æœ¬æ©Ÿå™¨äººåƒ…ä¾›å­¸ç¿’ä½¿ç”¨ï¼Œä¸ä¿è­‰ç²åˆ©ã€‚åªä½¿ç”¨å¯æ‰¿å—æå¤±çš„è³‡é‡‘ã€‚

---

**å…è²¬è²æ˜**ï¼šåƒ…ä¾›æ•™è‚²ç”¨é€”ï¼Œä½¿ç”¨é¢¨éšªè‡ªè² ã€‚
